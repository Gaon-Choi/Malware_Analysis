
import csv
import os
import shutil

dict_from_csv = {}

with open("D:/malware_classification/img/test2.csv", mode='r', errors='ignore') as inp:
    reader = csv.reader(inp)
    dict_from_csv = {rows[8]:rows[9] for rows in reader}

# print(dict_from_csv)
# exit(0)
files = os.listdir("D:/malware_classification/img/test2")
src = "D:/malware_classification/img/test2/"
dest1 = "D:/malware_classification/img/non-malware/"
dest2 = "D:/malware_classification/img/malware/"
for filename in files:
    a, b = filename.split('.')
    print(a)
    try:
        if dict_from_csv[a] == '0':
            print("filename: ", filename, '  0')
            shutil.move(src + filename, dest1 + filename)
        else:
            print("filename: ", filename, '  1')
            shutil.move(src + filename, dest2 + filename)


    except KeyError:
        print("error")
        # pass